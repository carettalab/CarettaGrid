<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Grid</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=1">
	<link rel="stylesheet" href="assets/css/project.css">
	<link rel="shortcut icon" type="image/png" href="assets/images/favicon.png"/>
	<script src="assets/js/project.js"></script>
</head>
<body>
	<div class="container">
		<header class="col-md-12">
			<a href="" class="col-md-3">
				<img src="assets/images/logo.png" />
			</a>
			<nav class="col-md-9">
				<ul>
			 		<li><a href="#">About</a></li>
			 		<li><a href="#">How Can Use?</a></li>
			 		<li><a href="#">About Us</a></li>
			 		<li><a href="#">Contact</a></li>
			 		<li><a href="#"><i class="fa fa-search"></i></a></li>
			 	</ul> 	
			</nav>
		</header>
		<div class="menu col-md-3">
			<nav class="col-md-12">
				<h4>Examples</h4>
				<ul>
					<li><a href="overview.html">Overview</a></li>
					<li>
						<a>Data Binding</a>
						<ul>
							<li><a href="">Large Database</a></li>
							<li><a href="">Live Data</a></li>
							<li><a href="">Query Builder Control</a></li>
						</ul>
					</li>
					<li>
						<a>Sorting and Grouping</a>
						<ul>
							<li><a href="">Sorting Data</a></li>
							<li><a href="">Grouping Data</a></li>
							<li><a href="">Interval Grouping</a></li>
							<li><a href="">Fixed Groups</a></li>
						</ul>
					</li>
					<li>
						<a>Filtering</a>
						<ul>
							<li><a href="">Data Filter Row</a></li>
							<li><a href="">Search Panel</a></li>
							<li><a href="">Header Filter</a></li>
							<li><a href="">Data Range Header Filter</a></li>
							<li><a href="">File Control</a></li>
						</ul>
					</li>
					<li>
						<a>Data Summaries</a>
						<ul>
							<li><a href="">Grid Totals</a></li>
							<li><a href="">Group Summary Totals</a></li>
							<li><a href="">Group Footer Summaries</a></li>
							<li><a href="">Sort by Summaries</a></li>
						</ul>
					</li>
					<li>
						<a>Grid Editing</a>
						<ul>
							<li><a href="">Grid Edit Modes</a></li>
							<li><a href="">Edit Forms</a></li>
							<li><a href="">Batch Editing and Updating</a></li>
							<li><a href="">Binary Image Column Editing</a></li>
							<li><a href="">Edit Form Templates</a></li>
							<li><a href="">Edit Form Layout</a></li>
							<li><a href="">Popup Edit Form</a></li>
							<li><a href="">Two-Way Binding</a></li>
							<li><a href="">Cascading Combo Boxes</a></li>
							<li><a href="">Data Validation</a></li>
						</ul>
					</li>
					<li>
						<a>Master Detail</a>
						<ul>
							<li><a href="">Simple Master-Detail View</a></li>
							<li><a href="">Advanced Master-Detail View</a></li>
						</ul>
					</li>
					<li>
						<a>Templates</a>
						<ul>
							<li><a href="">Cell</a></li>
							<li><a href="">Preview</a></li>
							<li><a href="">Card View</a></li>
							<li><a href="">Pager</a></li>
						</ul>
					</li>
					<li>
						<a>Data Export</a>
						<ul>
							<li><a href="">Exporting to PDF, XLS, XLSX and RTF</a></li>
							<li><a href="">Excel Data Aware Export</a></li>
							<li><a href="">Export Selected Records</a></li>
							<li><a href="">Export Master-Detail Records</a></li>
							<li><a href="">Export with Format Conditions</a></li>
						</ul>
					</li>
					<li>
						<a>Grid Columns</a>
						<ul>
							<li><a href="">Customization Window</a></li>
							<li><a href="">Resizing Columns</a></li>
							<li><a href="">Context Menu</a></li>
							<li><a href="">Custom Command Buttons</a></li>
							<li><a href="">Multi-Row Headers</a></li>
							<li><a href="">Text Ellipsis</a></li>
						</ul>
					</li>
					<li>
						<a>Grid Rows</a>
						<ul>
							<li><a href="">Focused Row</a></li>
							<li><a href="">Conditional Formatting</a></li>
							<li><a href="">Alternating Row Style</a></li>
							<li><a href="">Preview Row</a></li>
							<li><a href="">Grid Lines</a></li>
						</ul>
					</li>
					<li>
						<a href="">Data Paging and Scrolling</a>
						<ul>
							<li><a href="">Scrolling</a></li>
							<li><a href="">Virtual Scrolling</a></li>
							<li><a href="">Pager Settings</a></li>
							<li><a href="">SEO Friendly Paging</a></li>
							<li><a href="">Endless Paging</a></li>
							<li><a href="">Fixed Columns</a></li>
						</ul>
					</li>
					<li>
						<a>ASP.NET AJAX</a>
						<ul>
							<li><a href="">MS Update Panel</a></li>
						</ul>
					</li>
					<li>
						<a>Advanced Lookup</a>
						<ul>
							<li><a href="">Multiple Record Selection</a></li>
							<li><a href="">Incremental Filtering</a></li>
							<li><a href="">Item Template</a></li>
						</ul>
					</li>
					<li>
						<a>Adaptivity</a>
						<ul>
							<li><a href="">Responsive Layout</a></li>
							<li><a href="">Adaptive Layout</a></li>
							<li><a href="">Adaptive Layout with Form Layout</a></li>
						</ul>
					</li>
					<li>
						<a>Accessibility</a>
						<ul>
							<li><a href="">Section 508 Compliance</a></li>
							<li><a href="">Keyboard Support</a></li>
							<li><a href="">Right to Left</a></li>
							<li><a href="">Localization</a></li>
						</ul>
					</li>
				</ul>
			</nav>
		</div>
		<div class="grid-area col-md-9">
			<h4>Overview</h4>
			<div id="myGrid" style="width:100%;height:500px;"></div>
			<h5>Search:</h5>
			<p>Editable Settings:<br /><br />
			<button onclick="openDetails()">Open Item Edit for active row</button>
			</p>
			
			<h5>Demonstrates</h5>
			<p>Using a CompositeEditor to implement detached item edit form.</p>
		</div>
		<script id="itemDetailsTemplate" type="text/x-jquery-tmpl">
		  <div class='item-details-form'>
		    {{each columns}}
		    <div class='item-details-label'>
		      ${name}
		    </div>
		    <div class='item-details-editor-container' data-editorid='${id}'></div>
		    {{/each}}

		    <hr/>
		    <div class='item-details-form-buttons'>
		      <button data-action='save'>Save</button>
		      <button data-action='cancel'>Cancel</button>
		    </div>
		  </div>
		</script>
	</div>
	<script src="assets/grid/js/firebugx.js"></script>
	<link rel="stylesheet" href="assets/grid/css/slick.grid.css" type="text/css"/>
	<link rel="stylesheet" type="text/css" href="assets/grid/css/examples.css">
  	<link rel="stylesheet" href="assets/grid/css/jquery-ui-1.8.16.custom.css" type="text/css"/>
	<script src="assets/grid/js/jquery.event.drag-2.2.js"></script>
	<script src="assets/grid/js/jquery-ui-1.8.16.custom.min.js"></script>
	<script src="http://ajax.microsoft.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js"></script>
	<script src="assets/grid/js/slick.core.js"></script>
	<script src="assets/grid/js/slick.cellrangeselector.js"></script>
	<script src="assets/grid/js/slick.cellselectionmodel.js"></script>
	<script src="assets/grid/js/slick.formatters.js"></script>
	<script src="assets/grid/js/slick.editors.js"></script>
	<script src="assets/grid/js/slick.grid.js"></script>
	<script src="assets/grid/js/slick.compositeeditor.js"></script>




	<script> 
	function requiredFieldValidator(value) {
	  if (value == null || value == undefined || !value.length) {
	    return {valid: false, msg: "This is a required field"};
	  } else {	
	    return {valid: true, msg: null};
	  }
	}

	var grid;
	var data = [];
	var columns = [
	  {id: "title", name: "Title", field: "title", width: 120, cssClass: "cell-title", editor: Slick.Editors.Text, validator: requiredFieldValidator},
	  {id: "desc", name: "Description", field: "description", width: 100, editor: Slick.Editors.Text},
	  {id: "duration", name: "Duration", field: "duration", editor: Slick.Editors.Text},
	  {id: "percent", name: "% Complete", field: "percentComplete", width: 80, resizable: false, formatter: Slick.Formatters.PercentCompleteBar, editor: Slick.Editors.PercentComplete},
	  {id: "start", name: "Start", field: "start", minWidth: 60, editor: Slick.Editors.Date},
	  {id: "finish", name: "Finish", field: "finish", minWidth: 60, editor: Slick.Editors.Date},
	  {id: "effort-driven", name: "Effort Driven", width: 80, minWidth: 20, maxWidth: 80, cssClass: "cell-effort-driven", field: "effortDriven", formatter: Slick.Formatters.Checkmark, editor: Slick.Editors.Checkbox}
	];
	var options = {
	  editable: true,
	  enableAddRow: true,
	  enableCellNavigation: true,
	  asyncEditorLoading: false,
	  autoEdit: false
	};


	function openDetails() {
	  if (grid.getEditorLock().isActive() && !grid.getEditorLock().commitCurrentEdit()) {
	    return;
	  }

	  var $modal = $("<div class='item-details-form'></div>");

	  $modal = $("#itemDetailsTemplate")
	      .tmpl({
	        context: grid.getDataItem(grid.getActiveCell().row),
	        columns: columns
	      })
	      .appendTo("body");

	  $modal.keydown(function (e) {
	    if (e.which == $.ui.keyCode.ENTER) {
	      grid.getEditController().commitCurrentEdit();
	      e.stopPropagation();
	      e.preventDefault();
	    } else if (e.which == $.ui.keyCode.ESCAPE) {
	      grid.getEditController().cancelCurrentEdit();
	      e.stopPropagation();
	      e.preventDefault();
	    }
	  });

	  $modal.find("[data-action=save]").click(function () {
	    grid.getEditController().commitCurrentEdit();
	  });

	  $modal.find("[data-action=cancel]").click(function () {
	    grid.getEditController().cancelCurrentEdit();
	  });


	  var containers = $.map(columns, function (c) {
	    return $modal.find("[data-editorid=" + c.id + "]");
	  });

	  var compositeEditor = new Slick.CompositeEditor(
	      columns,
	      containers,
	      {
	        destroy: function () {
	          $modal.remove();
	        }
	      }
	  );

	  grid.editActiveCell(compositeEditor);
	}

	$(function () {
	  for (var i = 0; i < 500; i++) {
	    var d = (data[i] = {});

	    d["title"] = "Task " + i;
	    d["description"] = "This is a sample task description.\n  It can be multiline";
	    d["duration"] = "5 days";
	    d["percentComplete"] = Math.round(Math.random() * 100);
	    d["start"] = "01/01/2009";
	    d["finish"] = "01/05/2009";
	    d["effortDriven"] = (i % 5 == 0);
	  }

	  grid = new Slick.Grid("#myGrid", data, columns, options);

	  grid.onAddNewRow.subscribe(function (e, args) {
	    var item = args.item;
	    var column = args.column;
	    grid.invalidateRow(data.length);
	    data.push(item);
	    grid.updateRowCount();
	    grid.render();
	  });


	  grid.onValidationError.subscribe(function (e, args) {
	    // handle validation errors originating from the CompositeEditor
	    if (args.editor && (args.editor instanceof Slick.CompositeEditor)) {
	      var err;
	      var idx = args.validationResults.errors.length;
	      while (idx--) {
	        err = args.validationResults.errors[idx];
	        $(err.container).stop(true, true).effect("highlight", {color: "red"});
	      }
	    }
	  });

	  grid.setActiveCell(0, 0);
	})
	</script>
	<style>
    .cell-title {
      font-weight: bold;
    }

    .cell-effort-driven {
      text-align: center;
    }

    .item-details-form {
      z-index: 10000;
      display: inline-block;
      border: 1px solid black;
      margin: 8px;
      padding: 10px;
      background: #efefef;
      -moz-box-shadow: 0px 0px 15px black;
      -webkit-box-shadow: 0px 0px 15px black;
      box-shadow: 0px 0px 15px black;

      position: absolute;
      top: 128px;
      left: 51%;
    }

    .item-details-form-buttons {
      float: right;
    }

    .item-details-label {
      margin-left: 10px;
      margin-top: 20px;
      display: block;
      font-weight: bold;
    }

    .item-details-editor-container {
      width: 200px;
      height: 20px;
      border: 1px solid silver;
      background: white;
      display: block;
      margin: 10px;
      margin-top: 4px;
      padding: 0;
      padding-left: 4px;
      padding-right: 4px;
    }
  </style>
</body>
</html>
